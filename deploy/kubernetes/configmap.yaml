apiVersion: v1
kind: ConfigMap
metadata:
  name: dns-go-control-config
  namespace: dns-go
  labels:
    app.kubernetes.io/name: dns-go
    app.kubernetes.io/component: control
data:
  config.yaml: |
    mode: control
    control_plane:
      grpc_address: ":9090"
      heartbeat_timeout: 30s
    api:
      enabled: true
      listen_address: ":8080"
      cors_origins:
        - "*"
      auth:
        username: admin
        jwt_secret: ""  # Auto-generated on startup
        token_expiry: 24h
    logging:
      level: info
      format: json
      enable_query_log: false
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: dns-go-worker-config
  namespace: dns-go
  labels:
    app.kubernetes.io/name: dns-go
    app.kubernetes.io/component: worker
data:
  # Worker config is minimal - most config comes from control plane
  CONTROL_PLANE_ADDRESS: "dns-go-control:9090"
  DNS_LISTEN_ADDRESS: "0.0.0.0:53"
